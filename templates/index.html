<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protein Activity Visualization</title>
    <!-- Use specific plotly version instead of latest -->
    <script src="https://cdn.plot.ly/plotly-2.16.5.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Protein Activity Visualization</h1>
        <p class="description">Interactive visualization of differences in protein activity levels</p>
        
        <div class="plots">
            <div class="volcano-plot">
                <h2>Volcano Plot</h2>
                <div id="volcano"></div>
                <p class="help-text">Click on a point to view detailed boxplot and publication information</p>
            </div>
            <div class="boxplot">
                <h2>Protein Levels: Young vs Old</h2>
                <div id="boxplot">
                    <p class="placeholder-text">Click on a gene in the volcano plot to display its boxplot.</p>
                </div>
            </div>
        </div>
        
        <div class="publications">
            <h2>Related Publications</h2>
            <div id="publications-content">
                <p class="placeholder-text">Click on a gene in the volcano plot to display related publications.</p>
            </div>
        </div>
    </div>
    
    <script id="volcano-data" type="application/json">
        {{ volcano_plot_json|safe }}
    </script>
    <script>
        const geneColumnName = "{{ gene_column_name }}";
    </script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
